import{s as K,i as s,k as A,X as B,d as Y}from"./property-293dc01c-d6840d48.js";import{h as st,i as nt}from"./query-b33b5ea2-b51c1579.js";import{n as tt}from"./state-6b86eede-5fd1e84e.js";import{f as at}from"./get-poses-0c84fca5-6b528050.js";import{T as ht,_ as ct}from"./directive-daf4e9b6-78860a76.js";import{f as lt}from"./directive-helpers-6b2c92c9-aa4f1afd.js";import{o as D,l as pt}from"./_commonjsHelpers-10dfc225-be18f180.js";var et="Expected a function",V=0/0,dt="[object Symbol]",gt=/^\s+|\s+$/g,mt=/^[-+]0x[0-9a-f]+$/i,ut=/^0b[01]+$/i,yt=/^0o[0-7]+$/i,ft=parseInt,wt=typeof D=="object"&&D&&D.Object===Object&&D,bt=typeof self=="object"&&self&&self.Object===Object&&self,vt=wt||bt||Function("return this")(),Ct=Object.prototype,xt=Ct.toString,kt=Math.max,It=Math.min,F=function(){return vt.Date.now()};function Ot(o,t,e){var i,r,n,a,h,c,l=0,m=!1,p=!1,d=!0;if(typeof o!="function")throw new TypeError(et);t=Z(t)||0,L(e)&&(m=!!e.leading,p="maxWait"in e,n=p?kt(Z(e.maxWait)||0,t):n,d="trailing"in e?!!e.trailing:d);function O(g){var T=i,M=r;return i=r=void 0,l=g,a=o.apply(M,T),a}function $(g){return l=g,h=setTimeout(W,t),m?O(g):a}function z(g){var T=g-c,M=g-l,Q=t-T;return p?It(Q,n-M):Q}function P(g){var T=g-c,M=g-l;return c===void 0||T>=t||T<0||p&&M>=n}function W(){var g=F();if(P(g))return H(g);h=setTimeout(W,z(g))}function H(g){return h=void 0,d&&i?O(g):(i=r=void 0,a)}function it(){h!==void 0&&clearTimeout(h),l=0,i=c=r=h=void 0}function ot(){return h===void 0?a:H(F())}function R(){var g=F(),T=P(g);if(i=arguments,r=this,c=g,T){if(h===void 0)return $(c);if(p)return h=setTimeout(W,t),O(c)}return h===void 0&&(h=setTimeout(W,t)),a}return R.cancel=it,R.flush=ot,R}function At(o,t,e){var i=!0,r=!0;if(typeof o!="function")throw new TypeError(et);return L(e)&&(i="leading"in e?!!e.leading:i,r="trailing"in e?!!e.trailing:r),Ot(o,t,{leading:i,maxWait:t,trailing:r})}function L(o){var t=typeof o;return!!o&&(t=="object"||t=="function")}function Et(o){return!!o&&typeof o=="object"}function St(o){return typeof o=="symbol"||Et(o)&&xt.call(o)==dt}function Z(o){if(typeof o=="number")return o;if(St(o))return V;if(L(o)){var t=typeof o.valueOf=="function"?o.valueOf():o;o=L(t)?t+"":t}if(typeof o!="string")return o===0?o:+o;o=o.replace(gt,"");var e=ut.test(o);return e||yt.test(o)?ft(o.slice(2),e?2:8):mt.test(o)?V:+o}var jt=At;const $t=pt(jt);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let J;function Pt(o){return(t,e)=>nt(t,e,{get(){return(this.renderRoot??J??(J=document.createDocumentFragment())).querySelectorAll(o)}})}var Tt=Object.defineProperty,zt=Object.getOwnPropertyDescriptor,E=(o,t,e,i)=>{for(var r=i>1?void 0:i?zt(t,e):t,n=o.length-1,a;n>=0;n--)(a=o[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Tt(t,e,r),r};class I extends A{constructor(){super(...arguments),this.points=[],this.opacity=1,this.color=null,this.lineWidth=2,this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["left","top"],this.zIndex=0,this._points=[]}updated(t){t.has("points")&&(this._points=at(this.points,2))}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),t.lineWidth=this.lineWidth??2,t.strokeStyle=this.color??"gray";const[e,i,r]=this.transform??[0,0,0];t.translate(e,i);const[n,a]=this.transformOrigin??[0,0],h=n,c=a;if(t.translate(h,c),t.rotate(-(r*Math.PI)/180),t.translate(-h,-c),this._points.length>1){for(let l=0;l<this._points.length-1;l+=1){const[m,p]=this._points[l],[d,O]=this._points[l+1];t.moveTo(m,p),t.lineTo(d,O)}t.stroke()}}}E([s({type:Array})],I.prototype,"points",2);E([s({type:Number})],I.prototype,"opacity",2);E([s({type:String})],I.prototype,"color",2);E([s({type:Number,attribute:"line-width"})],I.prototype,"lineWidth",2);E([s({type:Array})],I.prototype,"transform",2);E([s({type:Array,attribute:"transform-origin"})],I.prototype,"transformOrigin",2);E([s({type:Array,attribute:"draw-origin"})],I.prototype,"drawOrigin",2);E([s({type:Array,attribute:"z-index"})],I.prototype,"zIndex",2);E([tt()],I.prototype,"_points",2);customElements.get("frc-canvas-line")||customElements.define("frc-canvas-line",I);var Wt=Object.defineProperty,Nt=Object.getOwnPropertyDescriptor,b=(o,t,e,i)=>{for(var r=i>1?void 0:i?Nt(t,e):t,n=o.length-1,a;n>=0;n--)(a=o[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Wt(t,e,r),r};class y extends A{constructor(){super(...arguments),this.origin=[0,0],this.width=10,this.height=10,this.radii=0,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth);let[e,i]=this.origin;const[r,n]=this.drawOrigin??["center","center"];r==="center"?e-=this.width/2:r==="right"&&(e-=this.width),n==="center"?i-=this.height/2:n==="bottom"&&(i-=this.height);const[a,h,c]=this.transform??[0,0,0];e+=a,i+=h,t.translate(e,i);const[l,m]=this.transformOrigin??[0,0],p=l+this.width/2,d=m+this.height/2;t.translate(p,d),t.rotate(-(c*Math.PI)/180),t.translate(-p,-d),t.roundRect(0,0,this.width,this.height,this.radii),this.fillColor&&t.fill(),this.strokeColor&&t.stroke()}}b([s({type:Array})],y.prototype,"origin",2);b([s({type:Number})],y.prototype,"width",2);b([s({type:Number})],y.prototype,"height",2);b([s({type:Number})],y.prototype,"radii",2);b([s({type:Number})],y.prototype,"opacity",2);b([s({type:String,attribute:"stroke-color"})],y.prototype,"strokeColor",2);b([s({type:Number,attribute:"stroke-width"})],y.prototype,"strokeWidth",2);b([s({type:String,attribute:"fill-color"})],y.prototype,"fillColor",2);b([s({type:Array})],y.prototype,"transform",2);b([s({type:Array,attribute:"transform-origin"})],y.prototype,"transformOrigin",2);b([s({type:Array,attribute:"draw-origin"})],y.prototype,"drawOrigin",2);b([s({type:Array,attribute:"z-index"})],y.prototype,"zIndex",2);customElements.get("frc-canvas-rect")||customElements.define("frc-canvas-rect",y);var Mt=Object.defineProperty,_t=Object.getOwnPropertyDescriptor,v=(o,t,e,i)=>{for(var r=i>1?void 0:i?_t(t,e):t,n=o.length-1,a;n>=0;n--)(a=o[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Mt(t,e,r),r};class f extends A{constructor(){super(...arguments),this.origin=[0,0],this.radius=10,this.startAngle=0,this.endAngle=360,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth);let[e,i]=this.origin;const[r,n]=this.drawOrigin??["center","center"];r==="left"?e+=this.radius:r==="right"&&(e-=this.radius),n==="top"?i+=this.radius:n==="bottom"&&(i-=this.radius);const[a,h,c]=this.transform??[0,0,0];e+=a,i+=h,t.translate(e,i);const[l,m]=this.transformOrigin??[0,0],p=l,d=m;t.translate(p,d),t.rotate(-(c*Math.PI)/180),t.translate(-p,-d),t.beginPath(),t.arc(0,0,this.radius,-(this.startAngle??0)*Math.PI/180,-(this.endAngle??360)*Math.PI/180,!0),this.fillColor&&t.fill(),this.strokeColor&&t.stroke()}}v([s({type:Array})],f.prototype,"origin",2);v([s({type:Number})],f.prototype,"radius",2);v([s({type:Number,attribute:"start-angle"})],f.prototype,"startAngle",2);v([s({type:Number,attribute:"end-angle"})],f.prototype,"endAngle",2);v([s({type:Number})],f.prototype,"opacity",2);v([s({type:String,attribute:"stroke-color"})],f.prototype,"strokeColor",2);v([s({type:Number,attribute:"stroke-width"})],f.prototype,"strokeWidth",2);v([s({type:String,attribute:"fill-color"})],f.prototype,"fillColor",2);v([s({type:Array})],f.prototype,"transform",2);v([s({type:Array,attribute:"transform-origin"})],f.prototype,"transformOrigin",2);v([s({type:Array,attribute:"draw-origin"})],f.prototype,"drawOrigin",2);v([s({type:Array,attribute:"z-index"})],f.prototype,"zIndex",2);customElements.get("frc-canvas-circle")||customElements.define("frc-canvas-circle",f);var Dt=Object.defineProperty,Bt=Object.getOwnPropertyDescriptor,x=(o,t,e,i)=>{for(var r=i>1?void 0:i?Bt(t,e):t,n=o.length-1,a;n>=0;n--)(a=o[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Dt(t,e,r),r};class C extends A{constructor(){super(...arguments),this.origin=[0,0],this.sides=5,this.radius=10,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth);let[e,i]=this.origin;const[r,n]=this.drawOrigin??["center","center"];r==="left"?e+=this.radius:r==="right"&&(e-=this.radius),n==="top"?i+=this.radius:n==="bottom"&&(i-=this.radius);const[a,h,c]=this.transform??[0,0,0];e+=a,i+=h,t.translate(e,i);const[l,m]=this.transformOrigin??[0,0],p=l,d=m;if(t.translate(p,d),t.rotate(-(c*Math.PI)/180),t.translate(-p,-d),this.sides<3)return;const O=Math.PI*2/this.sides;t.beginPath();for(let $=0;$<this.sides;$+=1){const z=$*O,P=this.radius*Math.cos(z),W=this.radius*Math.sin(z);$===0?t.moveTo(P,W):t.lineTo(P,W)}t.closePath(),this.fillColor&&t.fill(),this.strokeColor&&t.stroke()}}x([s({type:Array})],C.prototype,"origin",2);x([s({type:Number})],C.prototype,"sides",2);x([s({type:Number})],C.prototype,"radius",2);x([s({type:Number})],C.prototype,"opacity",2);x([s({type:String,attribute:"stroke-color"})],C.prototype,"strokeColor",2);x([s({type:Number,attribute:"stroke-width"})],C.prototype,"strokeWidth",2);x([s({type:String,attribute:"fill-color"})],C.prototype,"fillColor",2);x([s({type:Array})],C.prototype,"transform",2);x([s({type:Array,attribute:"transform-origin"})],C.prototype,"transformOrigin",2);x([s({type:Array,attribute:"draw-origin"})],C.prototype,"drawOrigin",2);x([s({type:Array,attribute:"z-index"})],C.prototype,"zIndex",2);customElements.get("frc-canvas-ngon")||customElements.define("frc-canvas-ngon",C);var Lt=Object.defineProperty,Ut=Object.getOwnPropertyDescriptor,G=(o,t,e,i)=>{for(var r=i>1?void 0:i?Ut(t,e):t,n=o.length-1,a;n>=0;n--)(a=o[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Lt(t,e,r),r};class U extends A{constructor(){super(...arguments),this.transform=[0,0,0],this.transformOrigin=[0,0],this.zIndex=0}draw(t){const{ctx:e}=t,[i,r,n]=this.transform??[0,0,0];e.translate(i,r);const[a,h]=this.transformOrigin??[0,0],c=a,l=h;e.translate(c,l),e.rotate(-(n*Math.PI)/180),e.translate(-c,-l),[...this.children].forEach(m=>{var p;e.save(),e.beginPath();const d=m;(p=d.draw)==null||p.call(d,t),e.restore()})}}G([s({type:Array})],U.prototype,"transform",2);G([s({type:Array,attribute:"transform-origin"})],U.prototype,"transformOrigin",2);G([s({type:Array,attribute:"z-index"})],U.prototype,"zIndex",2);customElements.get("frc-canvas-group")||customElements.define("frc-canvas-group",U);var Rt=Object.defineProperty,Ft=Object.getOwnPropertyDescriptor,w=(o,t,e,i)=>{for(var r=i>1?void 0:i?Ft(t,e):t,n=o.length-1,a;n>=0;n--)(a=o[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Rt(t,e,r),r};class u extends A{constructor(){super(...arguments),this.text="",this.origin=[0,0],this.maxWidth=null,this.fontName="sans-serif",this.fontSize=12,this.opacity=1,this.strokeColor=null,this.strokeWidth=2,this.fillColor="gray",this.transform=[0,0,0],this.transformOrigin=[0,0],this.drawOrigin=["center","center"],this.zIndex=0}draw({ctx:t}){t.globalAlpha=Math.max(0,Math.min(1,this.opacity??1)),this.fillColor&&(t.fillStyle=this.fillColor),this.strokeColor&&(t.strokeStyle=this.strokeColor),t.textAlign="center",t.textBaseline="middle",t.font=`${this.fontSize??12}px ${this.fontName||"sans-serif"}`;let[e,i]=this.origin??[0,0];const{width:r,actualBoundingBoxAscent:n,actualBoundingBoxDescent:a}=t.measureText(this.text??""),h=n+a,[c,l]=this.drawOrigin??["center","center"];c==="left"?e+=r/2:c==="right"&&(e-=r/2),l==="top"?i+=h/2:l==="bottom"&&(i-=h/2);const[m,p,d]=this.transform??[0,0,0];e+=m,i+=p,t.translate(e,i);const[O,$]=this.transformOrigin??[0,0],z=O,P=$;t.translate(z,P),t.rotate(-(d*Math.PI)/180),t.translate(-z,-P),this.fillColor&&t.fillText(this.text??"",0,0),this.strokeColor&&(t.lineWidth=this.strokeWidth??2,t.strokeText(this.text??"",0,0))}}w([s({type:String})],u.prototype,"text",2);w([s({type:Array})],u.prototype,"origin",2);w([s({type:Number,attribute:"max-width"})],u.prototype,"maxWidth",2);w([s({type:String,attribute:"font-name"})],u.prototype,"fontName",2);w([s({type:Number,attribute:"font-size"})],u.prototype,"fontSize",2);w([s({type:Number})],u.prototype,"opacity",2);w([s({type:String,attribute:"stroke-color"})],u.prototype,"strokeColor",2);w([s({type:Number,attribute:"stroke-width"})],u.prototype,"strokeWidth",2);w([s({type:String,attribute:"fill-color"})],u.prototype,"fillColor",2);w([s({type:Array})],u.prototype,"transform",2);w([s({type:Array,attribute:"transform-origin"})],u.prototype,"transformOrigin",2);w([s({type:Array,attribute:"draw-origin"})],u.prototype,"drawOrigin",2);w([s({type:Array,attribute:"z-index"})],u.prototype,"zIndex",2);customElements.get("frc-canvas-text")||customElements.define("frc-canvas-text",u);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const qt=ht(class extends ct{constructor(){super(...arguments),this.key=Y}render(o,t){return this.key=o,t}update(o,[t,e]){return t!==this.key&&(lt(o),this.key=t),e}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const q=o=>o??Y;var Gt=Object.defineProperty,Xt=Object.getOwnPropertyDescriptor,N=(o,t,e,i)=>{for(var r=i>1?void 0:i?Xt(t,e):t,n=o.length-1,a;n>=0;n--)(a=o[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Gt(t,e,r),r};class S extends A{constructor(){super(...arguments),this.src="",this.width=null,this.height=null,this.origin=[0,0],this.disabled=!1,this.hideCrosshair=!1,this.crosshairColor="white",this.image=new Image,this.connected=!1,this.throttleUpdateImage=$t(()=>this.updateImage(),5e3),this.onImageLoadBound=this.onImageLoad.bind(this),this.onImageErrorBound=this.onImageError.bind(this)}getImageSize(t){const e={width:this.width||t.width,height:this.height||t.height};return this.image.height/this.image.width*e.width>e.height?{height:e.height,width:this.image.width/this.image.height*e.height}:{height:this.image.height/this.image.width*e.width,width:e.width}}draw({ctx:t,canvas:e}){const{width:i,height:r}=this.getImageSize(e),n={width:this.width||e.width,height:this.height||e.height},[a,h]=this.origin??[0,0];if(t.translate(a,h),!!this.connected)try{const c=(n.width-i)/2,l=(n.height-r)/2;t.drawImage(this.image,c,l,i,r),this.hideCrosshair||(t.strokeStyle=this.crosshairColor||"white",t.lineWidth=1,t.beginPath(),t.setLineDash([7,7]),t.moveTo(c,l+r/2),t.lineTo(c+i,l+r/2),t.stroke(),t.beginPath(),t.setLineDash([5,5]),t.moveTo(c+i/2,l),t.lineTo(c+i/2,l+r),t.stroke())}catch{this.throttleUpdateImage()}}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.loadedTimeout),this.image.src=""}connectedCallback(){super.connectedCallback(),this.throttleUpdateImage()}isImageLoaded(){return this.image.complete&&this.image.naturalHeight!==0}updateImage(){if(clearTimeout(this.loadedTimeout),!this.disabled){if(!this.isConnected){this.setConnected(!1);return}this.isImageLoaded()||(this.loadedTimeout=setTimeout(()=>{this.throttleUpdateImage()},5e3),this.image.removeEventListener("load",this.onImageLoadBound),this.image.removeEventListener("error",this.onImageErrorBound),this.image.src="",this.image=new Image,this.setConnected(!1),this.image.src=this.src??"",this.image.addEventListener("load",this.onImageLoadBound),this.image.addEventListener("error",this.onImageErrorBound))}}setConnected(t){this.connected&&!t?(this.connected=!1,this.dispatchDisconnect()):!this.connected&&t&&(this.connected=!0,this.dispatchConnect())}onImageLoad(){this.setConnected(!0),clearTimeout(this.loadedTimeout)}onImageError(){this.throttleUpdateImage()}dispatchConnect(){this.dispatchEvent(new CustomEvent("connect",{bubbles:!0,composed:!0}))}dispatchDisconnect(){this.dispatchEvent(new CustomEvent("disconnect",{bubbles:!0,composed:!0}))}updated(t){t.has("src")&&this.throttleUpdateImage(),t.has("disabled")&&(this.disabled?(clearTimeout(this.loadedTimeout),this.image.src=""):this.throttleUpdateImage())}}S.styles=K`
    :host {
      display: inline-block;
      width: 400px;
      height: 300px;
    }

    canvas {
      width: 100%;
      height: 100%;
    }
  `;N([s({type:String})],S.prototype,"src",2);N([s({type:Number})],S.prototype,"width",2);N([s({type:Number})],S.prototype,"height",2);N([s({type:Array})],S.prototype,"origin",2);N([s({type:Boolean})],S.prototype,"disabled",2);N([s({type:Boolean,attribute:"hide-crosshair"})],S.prototype,"hideCrosshair",2);N([s({type:String,attribute:"crosshair-color"})],S.prototype,"crosshairColor",2);customElements.get("frc-canvas-mjpg-stream-instance")||customElements.define("frc-canvas-mjpg-stream-instance",S);var Ht=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,j=(o,t,e,i)=>{for(var r=i>1?void 0:i?Qt(t,e):t,n=o.length-1,a;n>=0;n--)(a=o[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Ht(t,e,r),r};const k=class rt extends A{constructor(){super(...arguments),this.srcs=[],this.width=null,this.height=null,this.origin=[0,0],this.waitImage=rt.DEFAULT_WAIT_IMAGE,this.hideCrosshair=!1,this.crosshairColor="white",this.waitImageElement=new Image}getImageSize(t){const e={width:this.width||t.width,height:this.height||t.height};return this.waitImageElement.height/this.waitImageElement.width*e.width>e.height?{height:e.height,width:this.waitImageElement.width/this.waitImageElement.height*e.height}:{height:this.waitImageElement.height/this.waitImageElement.width*e.width,width:e.width}}draw(t){const{canvas:e,ctx:i}=t,r=[...this.streamInstances].find(n=>n.src===this._connectedSrc);if(r)r.draw(t);else{const{width:n,height:a}=this.getImageSize(e),h={width:this.width||e.width,height:this.height||e.height},[c,l]=this.origin??[0,0];i.translate(c,l);try{i.drawImage(this.waitImageElement,(h.width-n)/2,(h.height-a)/2,n,a)}catch{}}}updated(t){t.has("srcs")&&this._connectedSrc&&!this.srcs.includes(this._connectedSrc)&&(this._connectedSrc=void 0),t.has("waitImage")&&(this.waitImageElement.src=this.waitImage)}onConnect(t){this._connectedSrc||(this._connectedSrc=t)}onDisconnect(t){this._connectedSrc===t&&(this._connectedSrc=void 0)}renderStreamInstance(t){return B`
      ${qt(t,B`
          <frc-canvas-mjpg-stream-instance
            @connect=${()=>this.onConnect(t)}
            @disconnect=${()=>this.onDisconnect(t)}
            src=${t}
            width=${q(this.width!==null?this.width:void 0)}
            height=${q(this.height!==null?this.height:void 0)}
            .origin=${q(this.origin!==null?this.origin:void 0)}
            ?disabled=${this._connectedSrc&&this._connectedSrc!==t}
            ?hide-crosshair=${this.hideCrosshair}
            crosshair-color=${this.crosshairColor}
          ></frc-canvas-mjpg-stream-instance>
        `)}
    `}render(){return B`
      ${this.srcs.map(t=>this.renderStreamInstance(t.replace("mjpg:","")))}
    `}};k.DEFAULT_WAIT_IMAGE="./no-camera-stream.jpg";j([s({type:Array})],k.prototype,"srcs",2);j([s({type:Number})],k.prototype,"width",2);j([s({type:Number})],k.prototype,"height",2);j([s({type:Array})],k.prototype,"origin",2);j([s({type:String,attribute:"wait-image"})],k.prototype,"waitImage",2);j([s({type:Boolean,attribute:"hide-crosshair"})],k.prototype,"hideCrosshair",2);j([s({type:String,attribute:"crosshair-color"})],k.prototype,"crosshairColor",2);j([tt()],k.prototype,"_connectedSrc",2);j([Pt("frc-canvas-mjpg-stream-instance")],k.prototype,"streamInstances",2);let Vt=k;customElements.get("frc-canvas-mjpg-stream")||customElements.define("frc-canvas-mjpg-stream",Vt);var Zt=Object.defineProperty,Jt=Object.getOwnPropertyDescriptor,X=(o,t,e,i)=>{for(var r=i>1?void 0:i?Jt(t,e):t,n=o.length-1,a;n>=0;n--)(a=o[n])&&(r=(i?a(t,e,r):a(r))||r);return i&&r&&Zt(t,e,r),r};class _ extends A{constructor(){super(...arguments),this.width=null,this.backgroundColor="black"}getCanvasCtx(){return this.canvas.getContext("2d")}drawChildren(){const t={canvas:this.canvas,ctx:this.getCanvasCtx(),domRect:this.getBoundingClientRect()};[...this.children].forEach(e=>{var i;const r=this.getCanvasCtx();r.save(),r.beginPath();const n=e;(i=n.draw)==null||i.call(n,t),r.restore()})}drawBackground(){const t=this.getCanvasCtx();t.save(),t.fillStyle=this.backgroundColor,t.fillRect(0,0,this.canvas.width,this.canvas.height),t.restore()}drawCanvas(){this.drawBackground(),this.drawChildren(),window.requestAnimationFrame(()=>{this.drawCanvas()})}firstUpdated(){this.drawCanvas(),new ResizeObserver(()=>this.resized()).observe(this),this.resized()}resized(){const t=this.getBoundingClientRect(),{width:e,height:i}=t;typeof this.width!="number"?(this.canvas.width=e,this.canvas.height=i):(this.canvas.width=this.width,this.canvas.height=this.width*i/e)}render(){return B` <canvas></canvas> `}}_.styles=K`
    :host {
      display: inline-block;
      width: 400px;
      height: 300px;
    }

    canvas {
      width: 100%;
      height: 100%;
    }

    [part='box'] {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-content: center;
      flex-wrap: wrap;
      background-color: var(--box-color);
      text-align: center;
    }
  `;X([st("canvas")],_.prototype,"canvas",2);X([s({type:Number})],_.prototype,"width",2);X([s({type:String,attribute:"background-color"})],_.prototype,"backgroundColor",2);customElements.get("frc-canvas")||customElements.define("frc-canvas",_);
